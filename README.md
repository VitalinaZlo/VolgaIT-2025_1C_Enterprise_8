# Учёт тарифицируемых услуг

![License](https://img.shields.io/github/license/VitalinaZlo/VolgaIT-2025_1C_Enterprise_8?style=flat-square&color=e5573e&label=License)
![1C version](https://img.shields.io/badge/build-8.3.27+-brightgreen?style=flat-square&label=1C&color=ffdf01)
![Status](https://img.shields.io/badge/build-completed-green?style=flat-square&label=Status&color=3dc322)


**Automation of billing services accounting** — это проект, направленный на разработку конфигурации 1С для автоматизации деятельности компаний, оказывающих тарифицируемые услуги, с системой учета по тарифам, лимитам и расчетами за превышение.

Данный проект был создан для второго тура Международной цифровой олимпиады «Волга-IT'25» в дисциплине «1С-программирование». Проект занял четвёртое место в полуфинале.


## Задача проекта
Разработать конфигурацию, в которой:

- Есть справочники организаций, покупателей, услуг и тарифов организаций; 
- Можно автоматически заполнять условия договоров на основе выбранного тарифа;
- Можно сформировать акты оказания услуг и проводить их через регистры накопления;
- Есть возможность создать итоговый расчёт по определённому покупателю с учётом базовых лимитов и их превышений;
- Можно сформировать отчёт по всем оказанным услугам за определённый период.


## Структура конфигурации

- **`Справочники`**:
     - **`Организации`**: компании, предоставляющие услуги (исполнители);
     - **`Покупатели`**: компании, получающие услуг (заказчики);
     - **`Услуги`**: перечень оказываемых услуг компаниями-исполнителями;
     - **`Тарифы организаций`**: тарифные планы, состоящие из списков услуг с базовыми лимитами и ценами.

- **`Документы`**:
     - **`Перечень базовых услуг`**: фиксация базовых цен на услуги по тарифу (полностью совпадает с информацией из справочника «Тарифы организаций»);
     - **`Стоимость услуг при превышении лимита`**: установка цен на услуги при превышении лимитов;
     - **`Договор с покупателем`**: соглашение между организацией и покупателем на определённый тариф с перечислением возможных услуг и цен;
     - **`Акт оказания услуги`**: фиксация фактически оказанных услуг покупателю;
     - **`Итоговые расчеты по покупателям за период`**: итоговый расчёт с учётом периода и лимитов.

- **`Регистры накопления`**:
     - **`Оказанные услуги`**: учёт фактически оказанных услуг;
     - **`Взаиморасчеты с покупателем`**: учет финансовых расчётов.

- **`Отчёты`**:
     - **`Оказанные услуги за период`**: отчёт по оказанным услугам за период.
  

## Описание наполнения конфигурации

### Справочники

#### `«Организации»`:
- `Наименование` — полное юридическое наименование организации;
- `ИНН` — идентификационный номер налогоплательщика (существует проверка длины в 10 или 12 цифр);
- `Юридический адрес` — официальный адрес регистрации организации;
- `Контактный телефон` — основной номер телефона организации (вводится в формате 8 (XXX) XXX-XX-XX);
- `Электронный адрес` — электронный адрес для связи с организацией (существует проверка наличия символов «.» и «@»).

     <div align="center">
       <img src="https://github.com/user-attachments/assets/a663843a-622a-4b80-9d88-c17342e20640">
       Рисунок 1 — Форма создания новой «Организации»  
       <img src="https://github.com/user-attachments/assets/8fcd89c6-663e-41cd-b584-22b864be95ee">
       Рисунок 2 — Общий вид списка организаций
     </div>
     
#### `«Покупатели»`:
- `Наименование` — полное юридическое наименование организации;
- `ИНН` — идентификационный номер налогоплательщика (существует проверка длины в 10 или 12 цифр);
- `Юридический адрес` — официальный адрес регистрации организации;
- `Контактный телефон` — основной номер телефона организации (вводится в формате 8 (XXX) XXX-XX-XX);
- `Электронный адрес` — электронный адрес для связи с организацией (существует проверка наличия символов «.» и «@»).

     <div align="center">
       <img src="https://github.com/user-attachments/assets/f336a7d6-7067-4eca-8af0-c148e9a3f5ed">
       Рисунок 3 — Форма создания нового «Покупателя»  
       <img src="https://github.com/user-attachments/assets/e8b92d65-ab75-48e6-b8fc-53e67d50ddc6">
       Рисунок 4 — Общий вид списка покупателей
     </div>
      
#### `«Услуги»`:
- `Наименование` — полное наименование услуги.

     <div align="center">
       <img src="https://github.com/user-attachments/assets/75b47562-4b23-455d-9e21-d83e73592763">
       Рисунок 5 — Форма создания новой «Услуги»  
       <img src="https://github.com/user-attachments/assets/005f5361-9225-4187-a4b1-83d9d939a419">
       Рисунок 6 — Общий вид списка услуг
     </div>

#### `«Тарифы организаций»`:
- `Наименование` — полное наименование тарифа;
- `Владелец` — наименование выбранной организации, которая предоставляет тарифицируемые услуги, из справочника «Организации».
- Табличная часть `«Перечень базовых услуг»`:
    - `Услуга` — наименование выбранной услуги из справочника «Услуги»;
    - `Лимит` — установленное для данной услуги максимальное количество, входящее в базовый пакет тарифа;
    - `Цена` — установленная для данной услуги базовая цена;
    - `Сумма` — общая стоимость пакета по данной услуге, рассчитанная как `Лимит` * `Цена` (поле высчитывается автоматически).

     <div align="center">
       <img src="https://github.com/user-attachments/assets/7eef83f8-b934-4a8b-b7cb-399a7b8ef6c8">
       Рисунок 7 — Форма создания нового «Тарифа организации»  
       <img src="https://github.com/user-attachments/assets/01068523-deb1-4cd1-8e46-5b9083ad7dfe">
       Рисунок 8 — Общий вид списка тарифов организаций
     </div>
  
### Документы

#### `«Перечень базовых услуг»`:
- `Тариф` — наименование выбранного тарифа из справочника «Тарифы организаций»;
- Табличная часть `«Перечень базовых услуг»` — дублирует по структуре табличную часть `«Перечень базовых услуг»` из выбранного тарифа.

     <div align="center">
       <img src="https://github.com/user-attachments/assets/3f758a9c-465e-4cd2-bd7d-9922400e1021">
       Рисунок 9 — Форма создания документа «Перечень базовых услуг»
     </div>

     **Примечание:** при выборе/смене тарифа табличная часть (ТЧ) автоматически заполняется информацией об услугах из ТЧ выбранного тарифа. Для соответствия данных справочнику  `«Тарифы организаций»` редактирование строк пользователю недоступно.

     <div align="center">
       <img src="https://github.com/user-attachments/assets/7bcd3e09-e106-457d-8cf5-8672ec2d1578">
       Рисунок 10 — Автоматическое заполнение табличной части после выбора тарифа
     </div>

#### `«Стоимость услуг при превышении лимита»`:
- `Тариф` — наименование выбранного тарифа из справочника «Тарифы организаций».
-  Табличная часть `«Детали тарифа при превышении лимита`:
    - `Услуга` — наименование выбранной услуги из справочника «Услуги»;
    - `Цена` — установленная для данной услуги цена при превышении лимита по услуге.

     <div align="center">
       <img src="https://github.com/user-attachments/assets/a01a7a21-697e-4784-bf49-74ae20d8d8cb">
       Рисунок 11 — Форма создания документа «Стоимость услуг при превышении лимита»
     </div>
   
     **Примечание:** при выборе/смене тарифа ТЧ автоматически заполняется услугами из ТЧ выбранного тарифа. Поле `Услуга` при этом для редактирования пользователю недоступно, тогда как поле `Цена` требует обязательного изменения. Система контролирует, чтобы цена при превышении лимита была строго выше базовой цены тарифа — в противном случае документ провести не удастся.

     <div align="center">
       <img src="https://github.com/user-attachments/assets/49fe091e-6a84-4052-8156-0b42e819e8b4">
       Рисунок 12 — Автоматическое заполнение табличной части после выбора тарифа
       <img src="https://github.com/user-attachments/assets/81e012be-2d3a-4e09-b491-c2d3fe6355e5">
       Рисунок 13 — Ошибка при некорректно заполненном поле «Цена»
     </div>

#### `«Договор с покупателем»`:
- `Организация` — исполнитель тарифицируемых услуг из справочника «Организации»;
- `Покупатель` — заказчик тарифицируемых услуг из справочника «Покупатели»;
- `Тариф` — наименование выбранного тарифа из справочника «Тарифы организаций»;
- Табличная часть `«Перечень базовых услуг»` — дублирует по структуре табличную часть документа `«Перечень базовых услуг»`;
- Табличная часть `«Стоимость услуг при превышении»` — дублирует по структуру табличную часть документа `«Стоимость услуг при превышении лимита»`.

     <div align="center">
       <img src="https://github.com/user-attachments/assets/59b26fa0-9293-48db-b492-22b3bcc99a56">
       Рисунок 14 — Форма создания документа «Договор с покупателем»
     </div>

     **Примечание:** Обе ТЧ договора — `«Перечень базовых услуг»` и `«Стоимость услуг при превышении»`, — заполняются автоматически при выборе тарифа на основе документов `«Перечень базовых услуг»` и `«Стоимость услуг при превышении лимита»` соответственно. Если для выбранного тарифа отсутствует какой-либо из двух документов, то провести договор не удастся. Для соответствия условий договора установленному тарифу редактирование обеих ТЧ пользователю недоступно.

     <div align="center">
       <img src="https://github.com/user-attachments/assets/b5737b71-3e9b-4539-af65-be6d55a02258">
       Рисунок 15 — Автоматически заполненная табличная часть «Перечень базовых услуг»
       <img src="https://github.com/user-attachments/assets/4bdecfc7-2fa9-4530-b6b7-25ddc6cd02da">
       Рисунок 16 — Автоматически заполненная табличная часть «Стоимость услуг при превышении»
       <img src="https://github.com/user-attachments/assets/daa0375b-5607-4bd3-940d-d03f2640b30d">
       Рисунок 17 — Сообщение в табличной части «Перечень базовых услуг»     
       <img src="https://github.com/user-attachments/assets/7c548e8b-84e6-4af1-b110-315fbb3c6323">
       Рисунок 18 — Сообщение в табличной части «Стоимость услуг при превышении»
     </div>
     
     Также, при изменении организации список доступных тарифов обновляется автоматически, а все заполненнные ТЧ очищаются. Перед сменой значений полей система запрашивает подтверждение действия, предупреждая о потере введённых данных ТЧ.

     <div align="center">
       <img src="https://github.com/user-attachments/assets/35a43ecb-575f-4a96-89a9-0a6a78e766ef">
       Рисунок 19 — Окно подтверждения смены исполнителя услуг
     </div>

#### `«Акт оказания услуги»`:
- `Покупатель` — заказчик тарифицируемых услуг из справочника «Покупатели»;
- `Организация` — исполнитель тарифицируемых услуг из справочника «Организации».
- Табличная часть `«Оказанные услуги»`:
    - `Услуга` — наименование выбранной услуги из справочника «Услуги»;
    -  `Количество` — количество оказанной услуги.
      
     <div align="center">
       <img src="https://github.com/user-attachments/assets/3f2b47fd-5a3b-41ec-89c2-21ab2858ffe2">
       Рисунок 20 — Форма создания документа «Акт оказания услуги»
     </div>
 
     **Примечание:** Список выбора поля `Организация` состоит только из тех организаций, с которыми у выбранного покупателя заключены действующие договоры. Аналогично, в поле `Услуга` отображаются исключительно те услуги, которые входят в тарифы договоров между выбранными покупателем и организацией.

     <div align="center">
       <img src="https://github.com/user-attachments/assets/33920157-dc88-4f8d-b271-4e3b9b48a262">
       Рисунок 21 — Обновившийся список исполнителей услуг после выбора заказчика
       <img src="https://github.com/user-attachments/assets/c44afd2d-a7f3-4dde-870f-f33c84718424">
       Рисунок 22 — Список услуг, входящих в тарифы договоров
     </div>

     Также, при изменении покупателя или организации список доступных услуг обновляется автоматически, а вся заполненная ТЧ очищается. Перед сменой значений полей система запрашивает подтверждение действия, предупреждая о потере введённых данных ТЧ.

     <div align="center">
       <img src="https://github.com/user-attachments/assets/10722acf-2a28-40de-99b8-f01ec932af0a">
       Рисунок 23 — Окно подтверждения смены заказчика услуг
       <img src="https://github.com/user-attachments/assets/a197ae61-db7b-4b9d-b4cc-1878c31fae93">
       Рисунок 24 — Окно подтверждения смены исполнителя услуг
     </div>

#### `«Итоговые расчёты по покупателям за период»`:
- `Дата начала` — дата начала периода, по которому будет выполнятся расчёт;
- `Дата конца` — дата конца периода (включительно), по которому будет выполнятся расчёт;
- `Покупатель` — заказчик тарифицируемых услуг из справочника «Покупатели»;
- `Итоговая сумма` — сумма, рассчитанная по колонке `Сумма итого` из табличной части документа.
- Табличная часть `«Оказанные услуги»`:
    - `Услуга` — наименование выбранной услуги из справочника «Услуги»;
    -  `Количество` — итоговое количество оказанной услуги этого вида из всех документов «Акт оказания услуги»;
    -  `Сумма итого` — сумма, рассчитанная за количество оказанных услуг с учётом лимита и разности базовой цены и цены при превышении лимита.

     <div align="center">
       <img src="https://github.com/user-attachments/assets/59126306-ff90-4c0d-a9aa-c3585bc26bc">
       Рисунок 25 — Форма создания документа «Акт оказания услуги»
     </div>

     **Примечание:** При выборе/смене покупателя и периода ТЧ заполняется атоматически. При этом поле `Сумма итого` рассчитывается с учётом лимитов: услуги в пределах лимита учитываются по базовой цене, а выходящие за лимит — по повышенной ставке. Это обеспечивает автоматический корректный расчёт без ручного вмешательства пользователя, поэтому редактирование строк ТЧ для пользователя также недоступно.

     <div align="center">
       <img src="https://github.com/user-attachments/assets/f76dc219-ad80-40f8-a1ba-4ba5dae0444c">
       Рисунок 26 — Автоматически заполненная и рассчитанная табличная часть
     </div>

     При этом, если данного для покупателя за выбранный период оказанных услуг не нашлось, то пользователю выведется соответствующее сообщение и документ провести не удастся.
     
     <div align="center">
       <img src="https://github.com/user-attachments/assets/f45e8ba3-db81-4b61-9a0a-d40e59a235f7">
       Рисунок 27 — Сообщение при отсутствии оказанных услуг
     </div>  
   
### Отчёты

#### `«Оказанные услуги за период»`:
- `Покупатель` — заказчик тарифицируемых услуг из справочника «Покупатели»;
- `Количество услуг` — суммарное количество оказанный покупателю услуг.

     <div align="center">
       <img src="https://github.com/user-attachments/assets/5e79007e-b3af-468d-9013-356c3674fc9e">
       Рисунок 28 — Вид сформированного отчёта
     </div>

### Регистры

#### Регистр оборотов `«Оказанные услуги»`:
- Измерение `Покупатель` — заказчик тарифицируемых услуг из справочника «Покупатели»;
- Измерение `Организация` — исполнитель тарифицируемых услуг из справочника «Организации»;
- Измерение `Оказанная услуга` — наименование выбранной услуги из справочника «Услуги»;
- Ресурс `Количество` — количество оказанной услуги.

#### Регистр остатков `«Взаиморасчёты с покупателем»`:
- Измерение `Покупатель` — заказчик тарифицируемых услуг из справочника «Покупатели»;
- Ресурс `Итоговая сумма` — сумма, рассчитанная по колонке `Сумма итого` из табличной части документа `«Итоговые расчёты по покупателям за период»`.
